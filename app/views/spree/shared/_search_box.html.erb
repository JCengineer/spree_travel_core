
    <ul id="search_box_tabs" class="nav nav-tabs">
      <% Spree::ProductType.all.each do |p| %>
        <%= content_tag :li, class: p.name == active ? 'active' : '' do %>
          <a data-toggle="tab" href=<%="#{p.name}"%> name=<%="#{p.name}"%> ><%= Spree.t(p.name) %></a>
        <% end %>
      <% end %>
    </ul>
    <div id="tabcontent" class="tab-content">
      <% Spree::ProductType.all.each do |p| %>
        <% prefix = "#{p.name}_" %>
        <div id=<%="#{prefix}fields"%> class="tab-pane fade active in" >
          <ul class="alpha twelve columns omega" >
    	    <% p.context_option_types.each do |ot| %>
              <% tag_name = prefix + ot.name %>
    	      <li class="four columns">
    	        <%= label_tag tag_name, Spree.t(ot.presentation) %>
    	        <% current_value = params[tag_name] %>
	        <% if ot.attr_type == 'selection' %>
	          <%= select_tag tag_name, options_for_select(ot.option_values.map { |ov| [ov.presentation, ov.id] }, current_value), :class => 'select2' %>
	        <% elsif ot.attr_type == 'integer' %>
	          <%= number_field_tag tag_name, current_value %>
	        <% elsif ot.attr_type == 'float' %>
	          <%= number_field_tag tag_name, current_value %>
	        <% elsif ot.attr_type == 'boolean' %>
	          <%= check_box_tag tag_name, 1 %>
	        <% elsif ot.attr_type == 'date' %>
	          <%= text_field_tag tag_name, current_value, :class => 'datepicker' %>
	        <% else %>
	          <%= text_field_tag tag_name, current_value %>
	        <% end %>
    	      </li>
    	    <% end %>
          </ul>
        </div>
      <% end %>
    </div>
